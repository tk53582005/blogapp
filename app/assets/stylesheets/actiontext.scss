// Trix 本体のスタイルを読み込む
@import "trix";

/*
 * We need to override trix.css's image gallery styles to accommodate the
 * <action-text-attachment> element we wrap around attachments. Otherwise,
 * images in galleries will be squished by the max-width: 33%; rule.
*/
.trix-content .attachment-gallery > action-text-attachment,
.trix-content .attachment-gallery > .attachment {
  flex: 1 0 33%;
  padding: 0 0.5em;
  max-width: 33%;
}

.trix-content .attachment-gallery.attachment-gallery--2 > action-text-attachment,
.trix-content .attachment-gallery.attachment-gallery--2 > .attachment,
.trix-content .attachment-gallery.attachment-gallery--4 > action-text-attachment,
.trix-content .attachment-gallery.attachment-gallery--4 > .attachment {
  flex-basis: 50%;
  max-width: 50%;
}

.trix-content action-text-attachment .attachment {
  padding: 0 !important;
  max-width: 100% !important;
}

/* エディタ本体 */
.trix-editor {
  min-height: 200px;
  padding: 12px 16px;
  border: 1px solid #ccc;
  border-radius: 4px;
  background: #fff;
  font-size: 14px;
  line-height: 1.6;
  width: 100%;
  box-sizing: border-box;
}

/* ツールバー */
.trix-toolbar {
  border: 1px solid #ccc;
  border-radius: 4px 4px 0 0;
  background: #f5f7fa;
  margin-bottom: 8px;
}

/* ボタン周り */
.trix-button-group {
  margin: 4px;
}

.trix-button {
  border-radius: 4px;
  padding: 4px 8px;
}

/* 添付ファイルボタンを非表示にしたい場合（不要なら残してOK） */
.trix-button--icon-attach-files {
  display: none;
}

/* ★★★ ここが一番大事：太字・斜体の見た目を強制する ★★★ */
/* 編集中のエディタ内 */
.trix-editor strong,
.trix-editor b {
  font-weight: bold !important;
}

.trix-editor em,
.trix-editor i {
  font-style: italic !important;
}

/* 表示用コンテンツ内 */
.trix-content strong,
.trix-content b {
  font-weight: bold !important;
}

.trix-content em,
.trix-content i {
  font-style: italic !important;
}

/* 最強の設定（既存のコードの一番下に追加） */
.trix-editor strong,
.trix-editor b,
.trix-content strong,
.trix-content b,
trix-editor strong,
trix-editor b {
  font-weight: 700 !important;
  font-weight: bold !important;
}

.trix-editor em,
.trix-editor i,
.trix-content em,
.trix-content i,
trix-editor em,
trix-editor i {
  font-style: italic !important;
}

/* 画像サイズの制限 */
.trix-content img {
  max-width: 100%;
  height: auto;
}

/* 画像表示の修正 */
.trix-content {
  img {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
    display: block !important;
    margin: 0;
  }
  
  figure.attachment {
    margin: 1em 0;
    max-width: 600px;
    
    img {
      max-width: 100% !important;
      width: 100% !important;
      height: auto !important;
      display: block !important;
    }
  }
  
  action-text-attachment {
    display: block;
    max-width: 600px;
    
    img {
      max-width: 100% !important;
      width: 100% !important;
      height: auto !important;
      display: block !important;
    }
  }
}